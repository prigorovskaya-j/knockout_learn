<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="http://code.jquery.com/jquery-1.7.1.min.js"></script>
    <script type='text/javascript' src='jquery.js'></script>
    <script type='text/javascript' src='knockout-3.5.1.js'></script>
    <title>Ненавязчивая обработка событий</title>
</head>
<body>
<div>

    <ul id="people" data-bind='template: { name: "personTmpl", foreach: people }'>
    </ul>
    <a href="#" data-bind="click: function() { viewModel.items.remove($data); }">
        Очистить
    </a>

    <script id="personTmpl" type="text/html">
        <li>
            <a class="remove" href="#"> x </a>
            <span data-bind='text: name'></span>
            <a class="add" href="#"> добавить потомка </a>
            <ul data-bind='template: { name: "personTmpl", foreach: children }'></ul>
        </li>
    </script>
    
<script>
    
        var Person = function(name, children) {
            this.name = ko.observable(name);
            this.children = ko.observableArray(children || []);
        };
        
        var PeopleModel = function() {
            this.people = ko.observableArray([
                new Person("А", [
                    new Person("Б"),
                    new Person("В", [
                        new Person("Г"),
                        new Person("Д", [
                            new Person("Е", [
                                new Person("Ё"),
                                new Person("Ж")
                            ])
                        ]),
                        new Person("З")
                    ])
                ]),
                new Person("И", [
                    new Person("Й"),
                    new Person("К")
                ])
            ]);
        
            this.addChild = function(name, parentArray) {
                parentArray.push(new Person(name));
            };
        };
        
        ko.applyBindings(new PeopleModel());
        
        //attach event handlers
        $("#people").on("click", ".remove", function() {
            var context = ko.contextFor(this),
                parentArray = context.$parent.people || context.$parent.children;
        
            parentArray.remove(context.$data);
        
            return false;
        });
        
        $("#people").on("click", ".add", function() {
            var context = ko.contextFor(this),
                childName = context.$data.name() + " child",
                parentArray = context.$data.people || context.$data.children;
        
            //добавить дочерний элемент
            context.$root.addChild(childName, parentArray);
        
            return false;
        });
        $(".container").on("click", ".remove", function() {
            viewModel.items.remove(ko.dataFor(this));
        });
        $(".remove").click(function () {
            viewModel.items.remove(ko.dataFor(this));
        });
</script>

</body>
</html>